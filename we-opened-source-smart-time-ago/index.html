

<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]<!-->
<html class="no-js" lang="zh">
  <!--<![endif]-->
  <head>
    <meta charset="UTF-8">

    <title>
        Announcing Smart Time Ago
 - Pragmatic.ly Blog
    </title>

    <meta name="description" content="The voice of The Pragmatic.ly Team sharing Nes, Thoughts & Fun.">
    <meta name="keywords" content="  ["open source", "JavaScript", "jQuery", "smart-time-ago"]
">
    <meta name="author" content="The Pragmatic.ly Team">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="cleartype" content="on">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="57x57" href="/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon-precomposed.png">
    <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">

    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">
    <link rel="shortcut icon" sizes="16x16" href="/favicon.ico">
    <link rel="alternate" type="application/rss+xml" title="Pragmatic.ly Blog Feed" href="/feed.xml" />
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="/stylesheets/application.css?1364632829" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/application.js?1364632828" type="text/javascript"></script>

    <script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script>
    <script type="text/javascript">var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-4054156-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();</script>
  </head>

  <body class="we-opened-source-smart-time-ago we-opened-source-smart-time-ago_index">
    <header id="header">
      <div class="container">
        <a href="/" class="logo">Pragmatic.ly Blog</a>

        <ul class="top-nav">
          <li><a href="https://pragmatic.ly/tour">Tour</a></li>
          <li><a href="https://pragmatic.ly/signup">Sign Up</a></li>
          <li><a href="https://pragmatic.ly/login">Login</a></li>
        </ul>
      </div>
    </header>

    <section class="main">
      <div class="container">
          <article class="post">

    <header>
  <h2 class="title">
    <a href="/we-opened-source-smart-time-ago/">Announcing Smart Time Ago</a>
  </h2>
</header>

<aside>
  <ul class="meta">
    <li class="date">
      Jul 24, 2012
    </li>
    <li class="author">
     by <a href="https://pragmatic.ly/about">Terry Tai</a>
    </li>
    <li class="tags">
      
        <a href="/tags/open-source/">open source</a>
      
        <a href="/tags/javascript/">JavaScript</a>
      
        <a href="/tags/jquery/">jQuery</a>
      
        <a href="/tags/smart-time-ago/">smart-time-ago</a>
      
    </li>
  </ul>
</aside>

<div class="content">
  <p>The relative timestamps like &ldquo;5 minutes ago&rdquo; are more and more used in web applications. So web frameworks like <a href="http://rubyonrails.com">Ruby on Rails</a> have a builtin helper method to change timestamps to relative timestamps easily on server side as following,</p>
<div class="highlight"><pre><span class="n">time_ago_in_words</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">created_at</span><span class="p">)</span>
</pre></div>
<p>But If you use relative timestamps, you should update them on the client side to make sure the users always seeing the correct relative timestamps. And there is already an awesome library to do this job, which is <a href="http://timeago.yarp.com/">Timeago</a>. Thanks to Yarp.com, the author of Timeago.</p>

<p>However, after trying the library in depth, we found that it doesn&#39;t fit well in <a href="https://pragmatic.ly">Pragmatic.ly</a>. As a real time single-page application, our users may not refresh the page for days, so refreshing the relative timestamps per minute is meaningless and wasteful.</p>

<p>We need a more efficient solution. So we built <a href="http://pragmaticly.github.com/smart-time-ago/">Smart Time Ago</a>.</p>

<h3>Why Smart</h3>

<p>Instead of updating the relative timestamps every minute, smart-time-ago can dynamically tune the checking time interval to a proper value depending on the newest time on the page.</p>

<p>For example, if the newest time is &#39;2 hours ago&#39;, there is no need to check and update the relative timestamps per minute. Instead, 30 minutes is a better choice.</p>

<p><a href="http://pragmaticly.github.com/smart-time-ago/">Smart Time Ago</a> is hosted on github under MIT License. Check it out for more details and share your feedbacks and suggestions. Thanks!</p>

<h3>About Pragmatic.ly</h3>

<p><a href="https://pragmatic.ly">Pragmatic.ly</a> is a lean collaborative project management tool aiming to help small teams make better products easier. It&#39;s the ideal and elegant project management tool for tech startups.</p>

</div>

<div class="share">
  <a href="https://twitter.com/share?url=http://blog.pragmatic.ly/we-opened-source-smart-time-ago/&text=Announcing Smart Time Ago" class="twitter-share-button" data-lang="en"></a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

  <div class="fb-like" data-href="http://blog.pragmatic.ly/we-opened-source-smart-time-ago/" data-send="false" data-layout="button_count" data-width="450" data-show-faces="true"></div>

  <!-- Place this tag where you want the share button to render. -->
  <div class="g-plus" data-action="share" data-annotation="bubble" data-href="http://blog.pragmatic.ly/we-opened-source-smart-time-ago/"></div>

  <!-- Place this tag after the last share tag. -->
  <script type="text/javascript">
    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
  </script>

  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=372859719458672";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>
</div>


  </article>
  
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'pragmaticlyblog'; // required: replace example with your forum shortname
    var disqus_identifier = 'announcing-smart-time-ago';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </section>

    <footer id="footer">
      <div class="container">
        <section id="blog-info">
          <div class="block about">
            <h5>ABOUT</h5>
            <p>Pragmatic.ly is a lean collaborative project management tool which help you make better products, easier. <a href="https://pragmatic.ly/" class="cta">Learn more â†’</a></p>
          </div>
          <div class="block authors">
            <h5>AUTHORS</h5>
            <ul class="contribs">
              <li><a href="#"><img src="/images/dingdingye.png" width="20px"> Dingding Ye</a></li>
              <li><a href="#"><img src="/images/terrytai.png" width="20px"> Terry Tai</a></li>
              <li><a href="#"><img src="/images/binhe.png" width="20px"> Bin He</a></li>
            </ul>
          </div>
          <div class="block follow">
            <h5>FOLLOW US</h5>
            <ul class="social-buttons">
              <li><a href="http://feeds.feedburner.com/pragmaticly" class="social-rss">RSS</a></li>
              <li><a href="https://twitter.com/pragmatic_ly" class="social-twitter">Twitter</a></li>
              <li><a href="https://facebook.com/pragmaticly" class="social-facebook">Facebook</a></li>
              <li><a href="https://plus.google.com/109049203627299997967" class="social-google">Google+</a></li>
            </ul>
          </div>

          <p class="copy">&copy; 2012-2013 Pragmatic.ly.</p>
        </section>

      </div><!-- .wrapper -->
    </footer>

    
  </body>
</html>
